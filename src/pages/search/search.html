<ion-header>
  <ion-toolbar color='main'> 
    <ion-searchbar [(ngModel)]="keyword" (keypress)="searchData($event.keyCode)" placeholder="Pencarian" class="clear"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <div *ngFor="let d of data; let idx = index;">
      <ion-list-header color="light" *ngIf="d.grup != dataClone[idx-1].grup && userLevel != '1'"> {{ d.grup }} </ion-list-header>
      <ion-list-header color="light" *ngIf="d.grup != dataClone[idx-1].grup && userLevel == '1' && d.grup !='Lembaga'"> {{ d.grup }} </ion-list-header>
      
      <button (click)="openLembaga(d.kolom_1)" *ngIf="d.grup == 'Lembaga' && userLevel != '1'" ion-item padding-right>
        <ion-avatar item-start>
          <img src="{{urlServer}}/img/logo/{{d.kolom_4}}">
        </ion-avatar>
        <h3 text-wrap>{{d.kolom_2}}</h3>
        <p>{{d.kolom_3}} &nbsp; <span class="text-{{d.kolom_5 == '0' ? 'danger' : 'secondary'}}">
            <ion-icon name="compass"></ion-icon>
          </span></p>
      </button>

      <!--  -->
      <button (click)="openLembaga(d.kolom_1)" *ngIf="d.grup == 'Prestasi' && userLevel !='1'" ion-item padding-right>
        <ion-icon name="trophy" class="text-bright" item-start></ion-icon>
        <h3 text-wrap>{{d.kolom_3}}</h3>
        <p text-nowrap>{{d.kolom_4}} {{d.kolom_2}}</p>
      </button>

      <button *ngIf="d.grup == 'Prestasi' && userLevel == '1'" ion-item padding-right>
        <ion-icon name="trophy" class="text-bright" item-start></ion-icon>
        <h3 text-wrap>{{d.kolom_3}}</h3>
        <p text-nowrap>{{d.kolom_4}} {{d.kolom_2}}</p>
      </button>

      <!--  -->
      <button (click)="openLembaga(d.kolom_1)" *ngIf="d.grup == 'Koleksi' && userLevel !='1'" ion-item padding-right>
        <ion-icon name="book" class="text-secondary" item-start></ion-icon>
        <h3 text-wrap>({{d.kolom_3}}) {{d.kolom_4}}</h3>
        <p text-nowrap>{{d.kolom_5}} {{d.kolom_2}}</p>
      </button>

      <button *ngIf="d.grup == 'Koleksi' && userLevel == '1'" ion-item padding-right>
        <ion-icon name="book" class="text-secondary" item-start></ion-icon>
        <h3 text-wrap>({{d.kolom_3}}) {{d.kolom_4}}</h3>
        <p text-nowrap>{{d.kolom_5}} {{d.kolom_2}}</p>
      </button>
    </div>
  </ion-list>

  <div *ngIf="countData == 0 || countData == null" class="empty-frame">
    <ion-icon color="light" name="search" class="icon-big"></ion-icon>
    <p>Belum ada hasil pencarian.</p>
  </div>
</ion-content>
